(function(e){function t(t){for(var n,s,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},o=[];function s(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"4fe8d128"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=n);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=s(e);var l=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(d);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",l.name="ChunkLoadError",l.type=n,l.request=o,a[1](l)}r[e]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/taller-dependencias/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("1356"),r=a.n(n);r.a},1356:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-app",[a("v-content",[a("v-row",[a("v-col",{attrs:{cols:"1"}}),a("v-col",{attrs:{cols:"10"}},[a("router-view")],1),a("v-col",{attrs:{cols:"1"}})],1)],1)],1)],1)},o=[],s=(a("034f"),a("2877")),i=a("6544"),c=a.n(i),l=a("7496"),d=a("62ad"),u=a("a75b"),p=a("0fd9"),f={},v=Object(s["a"])(f,r,o,!1,null,null,null),m=v.exports;c()(v,{VApp:l["a"],VCol:d["a"],VContent:u["a"],VRow:p["a"]});var b=a("f309");n["a"].use(b["a"]);var h=new b["a"]({icons:{iconfont:"mdi"}}),g=a("8c4f"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-content",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("h1",[e._v("Aplicación de Dependencias")])]),a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:e.dependencies,label:"Selecciona una dependencia",outlined:""},on:{change:e.selectDependency},model:{value:e.selectedDependecy,callback:function(t){e.selectedDependecy=t},expression:"selectedDependecy"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-btn",{on:{click:e.showDependencyDialog}},[e._v("Agregar Dependencia")])],1)],1),a("v-divider",{staticClass:"my-7"}),a("h2",[e._v("Usuarios")]),a("v-row",[a("UsersList",{attrs:{users:e.users,dependencies:e.dependencies}})],1),a("v-divider",{staticClass:"my-7"}),a("v-row",[a("h4",[e._v("Camilo Tobar - Iván Chacón")])]),a("v-overlay",{attrs:{value:e.dialog}},[a("v-card",{staticClass:"pa-5",attrs:{light:""}},[a("v-card-title",[e._v("Agregar Dependencia")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Nombre de la dependencia",outlined:""},model:{value:e.dependencyName,callback:function(t){e.dependencyName=t},expression:"dependencyName"}}),a("v-text-field",{attrs:{label:"Máximo de usuarios",type:"number",outlined:""},model:{value:e.dependencyMax,callback:function(t){e.dependencyMax=t},expression:"dependencyMax"}}),a("v-text-field",{attrs:{label:"Ubicación",outlined:""},model:{value:e.dependencyLocation,callback:function(t){e.dependencyLocation=t},expression:"dependencyLocation"}}),a("v-btn",{staticClass:"mr -2",attrs:{color:"error"},on:{click:function(t){e.dialog=!1}}},[e._v(" Cancelar ")]),a("v-btn",{staticClass:"ml-2",attrs:{color:"success"},on:{click:e.addDependency}},[e._v(" Agregar ")])],1)],1)],1)],1)],1)},x=[],w=(a("7f7f"),a("ac6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-row",e._l(e.users,(function(t,n){return a("v-col",{key:n,attrs:{cols:"12"}},[a("v-card",[a("v-card-title",[e._v(e._s(t.firstName)+" "+e._s(t.lastName))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"10"}},[a("p",[e._v("Email: "+e._s(t.email))]),a("p",[e._v("Dependencia: "+e._s(t.dependency))]),a("p",[e._v("Activo: "+e._s(t.active))])]),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{on:{click:function(t){return e.editUser(n)}}},[a("v-icon",{staticClass:"icon-btn"},[e._v("mdi-pencil")])],1)],1),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{on:{click:function(t){return e.removeUser(n)}}},[a("v-icon",{staticClass:"icon-btn"},[e._v("mdi-delete")])],1)],1)],1)],1)],1)],1)})),1),a("v-overlay",{attrs:{value:e.dialog}},[a("v-card",{staticClass:"pa-5",attrs:{light:""}},[a("v-card-title",[e._v("Editar Usuario")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Nombre",outlined:""},model:{value:e.currentUser.firstName,callback:function(t){e.$set(e.currentUser,"firstName",t)},expression:"currentUser.firstName"}}),a("v-text-field",{attrs:{label:"Apellido",type:"number",outlined:""},model:{value:e.currentUser.lastName,callback:function(t){e.$set(e.currentUser,"lastName",t)},expression:"currentUser.lastName"}}),a("v-select",{attrs:{items:e.dependencies,label:"Dependencia",outlined:""},model:{value:e.currentUser.department,callback:function(t){e.$set(e.currentUser,"department",t)},expression:"currentUser.department"}}),a("v-select",{attrs:{items:[!0,!1],label:"Activo",outlined:""}}),a("v-btn",{staticClass:"mr -2",attrs:{color:"error"},on:{click:function(t){e.dialog=!1}}},[e._v(" Cancelar ")]),a("v-btn",{staticClass:"ml-2",attrs:{color:"success"},on:{click:e.saveUserEdit}},[e._v(" Guardar ")])],1)],1)],1)],1)}),_=[],V=a("8aa5"),C=a.n(V),D={name:"UsersList",props:{users:Array,dependencies:Array},data:function(){return{dialog:!1,currentUser:{firstName:"",lastName:"",department:"",active:!1}}},methods:{editUser:function(e){this.dialog=!0},removeUser:function(e){},saveUserEdit:function(e){C.a.firestore().collection("users").where("uid","==",payload.uid).get().then((function(e){e.forEach((function(e){console.log(e.id," => ",e.data()),C.a.firestore().collection("users").doc(e.id).update({foo:"bar"})}))}))}}},k=D,N=(a("b096"),a("8336")),U=a("b0af"),E=a("99d9"),j=a("132d"),O=a("a797"),A=a("b974"),T=a("8654"),L=Object(s["a"])(k,w,_,!1,null,"021d6540",null),M=L.exports;c()(L,{VBtn:N["a"],VCard:U["a"],VCardText:E["b"],VCardTitle:E["c"],VCol:d["a"],VContent:u["a"],VIcon:j["a"],VOverlay:O["a"],VRow:p["a"],VSelect:A["a"],VTextField:T["a"]});var P={name:"Dashboard",components:{UsersList:M},created:function(){this.getUsers(),this.getDependencies()},data:function(){return{users:[],dependencies:[],selectedDependecy:"",dependencyName:"",dependencyMax:0,dependencyLocation:"",dialog:!1}},methods:{getUsers:function(){var e=this;C.a.firestore().collection("users").get().then((function(t){t.forEach((function(t){console.log(t),e.users.push(t.data())}))}))},getDependencies:function(){var e=this;C.a.firestore().collection("dependencies").get().then((function(t){t.forEach((function(t){e.dependencies.push(t.data().name)}))}))},selectDependency:function(){var e=this;this.users=[],console.log(this.selectedDependecy),C.a.firestore().collection("users").where("dependency","==",this.selectedDependecy).get().then((function(t){t.forEach((function(t){e.users.push(t.data())}))}))},showDependencyDialog:function(){this.dialog=!0},addDependency:function(){this.dialog=!1}}},S=P,$=a("ce7e"),F=Object(s["a"])(S,y,x,!1,null,"1fdae4fc",null),I=F.exports;c()(F,{VBtn:N["a"],VCard:U["a"],VCardText:E["b"],VCardTitle:E["c"],VCol:d["a"],VContent:u["a"],VDivider:$["a"],VOverlay:O["a"],VRow:p["a"],VSelect:A["a"],VTextField:T["a"]});var R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{light:"",elevation:"5","max-width":"400",justify:"center",align:"center"}},[a("v-card-title",[a("h1",[e._v("Inicio de Sesión")])]),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Email",type:"email",outlined:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{label:"Password",type:"password",outlined:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("router-link",{attrs:{to:"/register"}},[e._v("¿No tienes cuenta? Regístrate.")])],1)],1),a("v-card-actions",[a("v-btn",{on:{click:e.submitForm}},[e._v("Login")])],1)],1)],1)},B=[],z={name:"Login",data:function(){return{email:"",password:"",dialog:!1,dialogMessage:""}},methods:{submitForm:function(){var e=this;C.a.auth().signInWithEmailAndPassword(this.email,this.password).then((function(t){e.$router.push("/dashboard")})).catch((function(t){e.dialog=!0,e.dialogMessage="Ocurrió un error: ".concat(t.message)}))}}},H=z,W=a("4bd4"),J=Object(s["a"])(H,R,B,!1,null,"36bd277c",null),K=J.exports;c()(J,{VBtn:N["a"],VCard:U["a"],VCardActions:E["a"],VCardText:E["b"],VCardTitle:E["c"],VForm:W["a"],VTextField:T["a"]});var q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{light:"",justify:"center",align:"center","max-width":"400"}},[a("v-card-title",[a("h1",[e._v("Registro")])]),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{label:"Nombre",outlined:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),a("v-text-field",{attrs:{label:"Apellido",outlined:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),a("v-text-field",{attrs:{label:"Email",type:"email",outlined:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{label:"Contraseña",type:"password",outlined:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-select",{attrs:{items:e.appDepartments,label:"Dependencia",outlined:""}})],1)],1),a("v-card-actions",[a("v-btn",{on:{click:e.submitForm}},[e._v("Submit")])],1)],1)],1)},G=[],Q={name:"Register",beforeMount:function(){this.getDependencies()},data:function(){return{firstName:"",lastName:"",email:"",password:"",department:"",appDepartments:[]}},methods:{getDependencies:function(){var e=this;C.a.firestore().collection("dependencies").get().then((function(t){t.forEach((function(t){e.appDepartments.push(t.data().name)}))}))},submitForm:function(){var e=this;C.a.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(t){C.a.firestore().collection("users").add({firstName:e.firstName,lastName:e.lastName,email:e.email,dependency:e.department}),e.$router.push("/dashboard")})).catch((function(e){alert(e.message)}))}}},X=Q,Z=Object(s["a"])(X,q,G,!1,null,"7cb47de6",null),Y=Z.exports;c()(Z,{VBtn:N["a"],VCard:U["a"],VCardActions:E["a"],VCardText:E["b"],VCardTitle:E["c"],VForm:W["a"],VSelect:A["a"],VTextField:T["a"]}),n["a"].use(g["a"]);var ee=new g["a"]({routes:[{path:"/",name:"login",component:K},{path:"/dashboard",name:"dashboard",component:I},{path:"/register",name:"register",component:Y},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]});n["a"].config.productionTip=!1;var te={apiKey:"AIzaSyD4tLHZvQHHzLam6XD62zyn9PKW7_4o9Mo",authDomain:"taller-dependencias.firebaseapp.com",databaseURL:"https://taller-dependencias.firebaseio.com",projectId:"taller-dependencias",storageBucket:"taller-dependencias.appspot.com",messagingSenderId:"199689635752",appId:"1:199689635752:web:fd6493712b7d232d9cbf9d"};C.a.initializeApp(te),new n["a"]({vuetify:h,router:ee,render:function(e){return e(m)}}).$mount("#app")},"6f6b":function(e,t,a){},b096:function(e,t,a){"use strict";var n=a("6f6b"),r=a.n(n);r.a}});
//# sourceMappingURL=app.fd95e613.js.map